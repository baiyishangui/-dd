<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jsonp案例</title>
</head>
<body>
<!-- jsonp,(json with padding),利用script标签的跨域能力来发送请求，是一个非官方的跨域方案 -->
<input type="text" id="username">
<p></p>
<script>
    // 获取元素
    const input = document.querySelector('input');
    const p =document.querySelector('p');
    // 声明handle函数
    function handle(data){
        input.style.border = "solid 1px #f00";
        // 修改p标签提示文本
        p.innerHTML = data.msg;
    }
    // 绑定事件
    input.onblur = function (){
        // 获取用户输入值
        let username = this.value;
        // 向服务器发送请求，检查用户名是否存在
        // 1.创建script标签
        const script = document.createElement('script');
        // 设置标签src属性
        script.src= 'http://127.0.0.1:8000/check-username';
        // 将script插入到文档中
        document.body.appendChild(script);

    }
</script>

    
</body>
</html>